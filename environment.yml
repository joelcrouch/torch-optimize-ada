name: torchoptim
channels:
  - pytorch
  - nvidia
  - conda-forge
  - defaults
dependencies:
  - python=3.10
  - pip=23.3
  
  # PyTorch with CUDA 12.1 support
  # Note: we removed 'cudatoolkit' as 'pytorch-cuda' handles the drivers now
  - pytorch=2.1.0
  - torchvision=0.16.0
  - pytorch-cuda=12.1
  
  # Core ML and Numerical (relaxed versions for better solving)
  - transformers>=4.35.0
  - accelerate>=0.25.0
  - sentencepiece
  - numpy>=1.24.0
  - scipy
  - pandas
  
  # Visualization & Utilities
  - matplotlib
  - seaborn
  - plotly
  - tqdm
  - pyyaml
  - click
  - pillow
  
  # Jupyter/Dev (Fixed the JupyterLab/Notebook conflict)
  - jupyterlab>=4.0.2
  - notebook>=7.0.0
  - ipykernel
  - ipython

  # Testing & Linting
  - pytest
  - pytest-cov
  - black
  - isort
  - flake8

  - pip:
    - vllm==0.2.6
    - nvidia-ml-py3
    - fastapi==0.104.1
    - uvicorn[standard]
    - python-multipart
    - httpx
    - requests
    - datasets
    - tokenizers
    - py-cpuinfo
    - psutil
    # - pydantic>=2.0
    - rich
    - omegaconf
    - onnx
    - onnxruntime-gpu
    - pre-commit
    - mypy